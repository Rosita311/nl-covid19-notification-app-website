<figure class="component-mediaelement">
    <video
        width="{{ include.width }}" 
        height="{{ include.height }}"
        style="max-width: 100%;"
        controls="controls"
        preload="none"
        poster="{{ site.url }}/{{ site.data.videos[include.key].video-preview-image['default'] }}"
        data-audio-description='[{"src": "{{ site.url }}/{{ site.data.videos[include.key].mp3-voiceover-src['default'] }}", "type": "audio/mp3"}]'
        data-audio-description-voiceover="true"
    >
        <source type="video/mp4" src="{{ site.url }}/{{ site.data.videos[include.key].mp4-src['default'] }}" />
        {% for subtitle in site.data.videos[include.key].subtitles %}
            <track src="{{ site.url }}/{{ subtitle.src }}" kind="subtitles" srclang="{{ subtitle.lang }}" label="{{ site.data.languages[subtitle.lang].label }}" {% if subtitle.lang == page.lang %}default{% endif %}>
        {% endfor %}
    </video>
    <details>
        <summary>{{ site.data.translations.mediaelement-download-title[page.lang] }}</summary>
        <div>
            <ul>
                <li>
                    <a href="{{ site.url }}/{{ site.data.videos[include.key].mp4-src['default'] }}" target="_blank">
                        {{ site.data.translations.mediaelement-download-mp4-video[page.lang] }}
                    </a>
                </li>
                <li>
                    <a href="{{ site.url }}/{{ site.data.videos[include.key].mp3-voiceover-src['default'] }}" target="_blank">
                        {{ site.data.translations.mediaelement-download-mp3-voiceover[page.lang] }}
                    </a>
                </li>
                {% for subtitle in site.data.videos[include.key].subtitles %}
                    <li>
                        <a href="{{ site.url }}/{{ subtitle.src }}">
                            {{ site.data.translations.mediaelement-download-subtitle[page.lang] }} ({{ site.data.languages[subtitle.lang].label }})
                        </a>
                    </li>
                {% endfor %}
            </ul>
        </div>
    </details>
    <details>
        <summary>{{ site.data.translations.mediaelement-transcript-title[page.lang] }}</summary>
        <div>
            {{ site.data.videos[include.key].transcript_md[page.lang] | markdownify }}
        </div>
    </details>
</figure>
